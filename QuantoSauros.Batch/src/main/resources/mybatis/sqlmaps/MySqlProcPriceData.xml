<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
 	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "ProcPriceData">

<!-- INSERT  -->
	
	<!-- use -->
	<insert id="insertPrice">
		INSERT INTO 
			PROC_PRICE_DATA
			(DT, PROC_ID, INSTRUMENT_CD, NONCALL_CD,			 
			PRICE, PAY_PRICE, RCV_PRICE,
			CCY_CD, CRTN_TIME)
		VALUES 
			(#{dt}, 
			#{procId}, 
			#{instrumentCd},
			#{nonCallCd},
			#{price}, 
			#{payPrice},
			#{rcvPrice},			
			#{ccyCd}, 
			now())	
		ON DUPLICATE KEY UPDATE 
			PRICE = VALUES(PRICE),
			PAY_PRICE = VALUES(PAY_PRICE),
			RCV_PRICE = VALUES(RCV_PRICE),			
			CRTN_TIME = VALUES(CRTN_TIME)
								
    </insert>    
	
	<!-- use -->
	<insert id="insertDeltaGamma">
		INSERT INTO 
			PROC_DELTAGAMMA_DATA
			(DT, PROC_ID, INSTRUMENT_CD, FACTOR_CD, 
			GREEK_CD, NONCALL_CD,
			GREEK,		
			CCY_CD, CRTN_TIME)
		VALUES 
			(#{dt}, 
			#{procId}, 
			#{instrumentCd},
			#{factorCd},
			#{greekCd},
			#{nonCallCd},
			#{greek},									
			#{ccyCd}, 
			now())
		ON DUPLICATE KEY UPDATE 
			GREEK = VALUES(GREEK),			
			CRTN_TIME = VALUES(CRTN_TIME)
						
    </insert>    
	
	<!-- use -->
	<insert id="insertDetailData">
	    INSERT INTO
	    	PROC_DETAIL_DATA
	    	(DT, PROC_ID, INSTRUMENT_CD, VALUE_TYPE, NONCALL_CD,
	    	LEG_TYPE, PERIOD_NUM, VALUE1, VALUE2, CRTN_TIME)
	    VALUES
	    	(#{dt},
	    	#{procId},
	    	#{instrumentCd},
	    	#{valueType},
	    	#{nonCallCd},
	    	#{legType},
	    	#{periodNum},
	    	#{value1},
	    	#{value2},
	    	now())
	    ON DUPLICATE KEY UPDATE 
	    	VALUE1 = VALUES(VALUE1),
	    	VALUE2 = VALUES(VALUE2),
	    	CRTN_TIME = VALUES(CRTN_TIME)
	    
	</insert>
	
</mapper>
